@use '../query' as query;
@use '../mixins' as mixins;

@layer reset {
  .v2-sidebar {
    @include mixins.reset;
  }
}

.v2-sidebar {
  display: none;
  background-color: var(--c-pri-1);
  transition-property: color, background-color, border-color, stroke, fill;
  transition-timing-function: ease-in-out;
  transition-duration: 300ms;

  @include query.lg {
    display: flex;
    position: absolute;
    align-items: center;
    flex-direction: column;
    justify-content: flex-start;
    z-index: var(--v2-index-sidebar);
    bottom: 0;
    left: 0;
    top: var(--action-box);
    gap: var(--unit);

    &-group {
      gap: var(--unit);
      display: flex;
      align-items: center;
      flex-direction: column;
      justify-content: flex-start;
    }

    &-spacer {
      display: flex;
      align-items: center;
      justify-content: center;
      width: var(--action-box);
      height: 100%;

      &-inner {
        width: var(--action-size);
        height: 100%;
        background-color: var(--c-pri-2);
        transition-property: color, background-color, border-color, stroke, fill;
        transition-timing-function: ease-in-out;
        transition-duration: 300ms;
      }
    }

    &-action {
      cursor: pointer;
      width: var(--action-box);
      display: flex;
      position: relative;
      align-items: center;
      flex-direction: column;
      justify-content: center;
      outline: solid var(--unit) transparent;
      background-color: var(--c-pri-1);
      transition-property: color, background-color, border-color, stroke, fill;
      transition-timing-function: ease-in-out;
      transition-duration: 300ms;

      &::before {
        background-color: transparent;
        width: var(--unit);
        height: 100%;
        position: absolute;
        content: '';
        bottom: 0;
        left: 0;
        top: 0;
      }

      &[data-active='true']::before {
        background-color: var(--c-accent-a900);
        transition-timing-function: ease;
        transition-duration: 300ms;
        transition-property: background-color;
      }

      &:not(:focus:focus-visible) {
        outline-color: transparent;
      }

      &:focus:focus-visible {
        outline-color: var(--c-blue);
        outline-offset: calc(var(--unit) * -1);
      }

      &-inner {
        width: var(--action-size);
        height: var(--action-size);
        display: flex;
        align-items: center;
        flex-direction: column;
        justify-content: center;

        color: var(--c-sec-4);
        background-color: var(--c-pri-2);
        transition-property: color, background-color, border-color, stroke, fill;
        transition-timing-function: ease-in-out;
        transition-duration: 300ms;

        &:hover {
          background-color: var(--c-pri-2-hh);
        }
        &:active {
          background-color: var(--c-pri-2-aa);
        }
      }
    }

    &-select {
      display: flex;
      align-items: center;
      flex-direction: row;
      justify-content: flex-start;
      position: relative;
      isolation: isolate;
      z-index: 0;
    }

    &-drawer {
      right: 0;
      z-index: -1;
      position: absolute;
      transform: translate(100%);

      height: var(--action-size);
      display: flex;
      align-items: center;
      flex-direction: row;
      justify-content: flex-start;

      color: var(--c-sec-4);
      background-color: var(--c-pri-2);
      transition-property: color, background-color, border-color, stroke, fill;
      transition-timing-function: ease-in-out;
      transition-duration: 300ms;
    }

    &-option {
      cursor: pointer;
      width: var(--action-box);
      height: var(--action-size);
      z-index: 1;
      display: flex;
      position: relative;
      align-items: center;
      flex-direction: column;
      justify-content: center;

      color: var(--c-sec-4);
      outline: solid var(--unit) transparent;
      background-color: var(--c-pri-2);
      transition-property: color, background-color, border-color, stroke, fill;
      transition-timing-function: ease-in-out;
      transition-duration: 300ms;

      &:hover {
        background-color: var(--c-pri-2-hh);
      }
      &:active {
        background-color: var(--c-pri-2-aa);
      }

      &[data-selected],
      &[data-selected]:hover,
      &[data-selected]:active {
        background-color: var(--c-pri-2-ss);
      }

      &:not(:focus:focus-visible) {
        outline-color: transparent;
      }

      &:focus:focus-visible {
        outline-color: var(--c-blue);
        outline-offset: calc(var(--unit) * -1);
      }
    }
  }
}
